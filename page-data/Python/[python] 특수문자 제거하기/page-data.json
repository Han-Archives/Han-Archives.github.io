{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/Python/[python] 특수문자 제거하기/",
    "result": {"data":{"cur":{"id":"83592f69-9756-5adb-9483-40f2f2cf62b1","html":"<h3 id=\"특수문자-제거하기\" style=\"position:relative;\"><a href=\"#%ED%8A%B9%EC%88%98%EB%AC%B8%EC%9E%90-%EC%A0%9C%EA%B1%B0%ED%95%98%EA%B8%B0\" aria-label=\"특수문자 제거하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>특수문자 제거하기</h3>\n<p>데이터 전처리 과정에서 많이 하는 일 중 하나가 특수문자 제거 혹은 다른 값 대체하는 것</p>\n<h3 id=\"replace\" style=\"position:relative;\"><a href=\"#replace\" aria-label=\"replace permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>replace</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">ex1 <span class=\"token operator\">=</span> <span class=\"token string\">'Is you a believer?'</span>\n\nex1<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'the'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">'Is you the believer?'</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">ex1<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span><span class=\"token string\">'?'</span><span class=\"token punctuation\">,</span><span class=\"token string\">''</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">'Is you a believer'</code></pre></div>\n<h3 id=\"re-모듈\" style=\"position:relative;\"><a href=\"#re-%EB%AA%A8%EB%93%88\" aria-label=\"re 모듈 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>re 모듈</h3>\n<p>대체로 replace 보다는 re 모듈을 사용해서 문자열을 제외한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> re\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd</code></pre></div>\n<h4 id=\"1-문자열\" style=\"position:relative;\"><a href=\"#1-%EB%AC%B8%EC%9E%90%EC%97%B4\" aria-label=\"1 문자열 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 문자열</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">text <span class=\"token operator\">=</span> <span class=\"token string\">'My life, my love, my drive, it came from...'</span>\n\n<span class=\"token comment\"># 특수문자 제외</span>\ntext <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ntext <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>sub<span class=\"token punctuation\">(</span><span class=\"token string\">r'[^\\w\\s]'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">)</span>\n\ntext</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">'my life my love my drive it came from'</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 값 대체</span>\nresult <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>sub<span class=\"token punctuation\">(</span><span class=\"token string\">'my'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'your'</span><span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">)</span>\n\nresult</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">'your life your love your drive it came from'</code></pre></div>\n<h4 id=\"2-리스트\" style=\"position:relative;\"><a href=\"#2-%EB%A6%AC%EC%8A%A4%ED%8A%B8\" aria-label=\"2 리스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 리스트</h4>\n<p>주의! 만약 아래와 같은 에러 코드가 발생한다면 리스트를 str(list)로 변환하면 된다.</p>\n<p>TypeError: expected strings or bytes-like object</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./data/lyric_7years.txt'</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span>\n    lines <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>line<span class=\"token punctuation\">.</span>rstrip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> line <span class=\"token keyword\">in</span> f<span class=\"token punctuation\">]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">lines <span class=\"token operator\">=</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>lines<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">lines</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">'[\\'Once I was seven years old, my mama told me\\', \"Go make yourself some friends or you\\'ll be lonely\", \\'Once I was seven years old\\', \\'It was a big big world, but we thought we were bigger\\', \\'Pushing each other to the limits, we were learning quicker\\', \\'By 11 smoking herb and drinking burning liquor\\', \\'Never rich so we were out to make that steady figure\\', \\'Once I was 11 years old, my daddy told me\\', \"Go get yourself a wife or you\\'ll be lonely\", \\'Once I was 11 years old\\', \\'I always had that dream like my daddy before me\\', \\'So I started writing songs, I started writing stories\\', \\'Something about the glory, just always seemed to bore me\\', \"\\'Cause only those I really love will ever really know me\", \\'Once I was 20 years old, my story got told\\', \\'Before the morning sun, when life was lonely\\', \\'Once I was 20 years old\\', \\'(Lukas Graham)\\', \"I only see my goals, I don\\'t believe in failure\", \"\\'Cause I know the smallest voices, they can make it major\", \\'I got my boys with me atleast those in favor\\', \"And if we don\\'t meet before I leave, I hope I\\'ll see you later\", \\'Once I was 20 years old, my story got told\\', \"I was writing \\'bout everything, I saw before me\", \\'Once I was 20 years old\\', \"Soon we\\'ll be 30 years old, our songs have been sold\", \"We\\'ve traveled around the world and we\\'re still roaming\", \"Soon we\\'ll be 30 years old\", \"I\\'m still learning about life\", \\'My woman brought children for me\\', \\'So I can sing them all my songs\\', \\'And I can tell them stories\\', \\'Most of my boys are with me\\', \\'Some are still out seeking glory\\', \\'And some I had to leave behind\\', \"My brother I\\'m still sorry\", \"Soon I\\'ll be 60 years old, my daddy got 61\", \\'Remember life and then your life becomes a better one\\', \\'I made the man so happy when I wrote a letter once\\', \\'I hope my children come and visit, once or twice a month\\', \"Soon I\\'ll be 60 years old, will I think the world is cold\", \\'Or will I have a lot of children who can warm me\\', \"Soon I\\'ll be 60 years old\", \"Soon I\\'ll be 60 years old, will I think the world is cold\", \\'Or will I have a lot of children who can hold me\\', \"Soon I\\'ll be 60 years old\", \\'Once I was seven years old, my mama told me\\', \"Go make yourself some friends or you\\'ll be lonely\", \\'Once I was seven years old\\', \\'Once I was seven years old\\']'</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 특수문자 제외</span>\nlines <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>sub<span class=\"token punctuation\">(</span><span class=\"token string\">r'[^\\w\\s]'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> lines<span class=\"token punctuation\">)</span>\n\nlines</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">'Once I was seven years old my mama told me Go make yourself some friends or youll be lonely Once I was seven years old It was a big big world but we thought we were bigger Pushing each other to the limits we were learning quicker By 11 smoking herb and drinking burning liquor Never rich so we were out to make that steady figure Once I was 11 years old my daddy told me Go get yourself a wife or youll be lonely Once I was 11 years old I always had that dream like my daddy before me So I started writing songs I started writing stories Something about the glory just always seemed to bore me Cause only those I really love will ever really know me Once I was 20 years old my story got told Before the morning sun when life was lonely Once I was 20 years old Lukas Graham I only see my goals I dont believe in failure Cause I know the smallest voices they can make it major I got my boys with me atleast those in favor And if we dont meet before I leave I hope Ill see you later Once I was 20 years old my story got told I was writing bout everything I saw before me Once I was 20 years old Soon well be 30 years old our songs have been sold Weve traveled around the world and were still roaming Soon well be 30 years old Im still learning about life My woman brought children for me So I can sing them all my songs And I can tell them stories Most of my boys are with me Some are still out seeking glory And some I had to leave behind My brother Im still sorry Soon Ill be 60 years old my daddy got 61 Remember life and then your life becomes a better one I made the man so happy when I wrote a letter once I hope my children come and visit once or twice a month Soon Ill be 60 years old will I think the world is cold Or will I have a lot of children who can warm me Soon Ill be 60 years old Soon Ill be 60 years old will I think the world is cold Or will I have a lot of children who can hold me Soon Ill be 60 years old Once I was seven years old my mama told me Go make yourself some friends or youll be lonely Once I was seven years old Once I was seven years old'</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 값 대체하기 mama -> mother</span>\nlines <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>sub<span class=\"token punctuation\">(</span><span class=\"token string\">'mama'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'mother'</span><span class=\"token punctuation\">,</span>lines<span class=\"token punctuation\">)</span>\n\nlines</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">'Once I was seven years old my mother told me Go make yourself some friends or youll be lonely Once I was seven years old It was a big big world but we thought we were bigger Pushing each other to the limits we were learning quicker By 11 smoking herb and drinking burning liquor Never rich so we were out to make that steady figure Once I was 11 years old my daddy told me Go get yourself a wife or youll be lonely Once I was 11 years old I always had that dream like my daddy before me So I started writing songs I started writing stories Something about the glory just always seemed to bore me Cause only those I really love will ever really know me Once I was 20 years old my story got told Before the morning sun when life was lonely Once I was 20 years old Lukas Graham I only see my goals I dont believe in failure Cause I know the smallest voices they can make it major I got my boys with me atleast those in favor And if we dont meet before I leave I hope Ill see you later Once I was 20 years old my story got told I was writing bout everything I saw before me Once I was 20 years old Soon well be 30 years old our songs have been sold Weve traveled around the world and were still roaming Soon well be 30 years old Im still learning about life My woman brought children for me So I can sing them all my songs And I can tell them stories Most of my boys are with me Some are still out seeking glory And some I had to leave behind My brother Im still sorry Soon Ill be 60 years old my daddy got 61 Remember life and then your life becomes a better one I made the man so happy when I wrote a letter once I hope my children come and visit once or twice a month Soon Ill be 60 years old will I think the world is cold Or will I have a lot of children who can warm me Soon Ill be 60 years old Soon Ill be 60 years old will I think the world is cold Or will I have a lot of children who can hold me Soon Ill be 60 years old Once I was seven years old my mother told me Go make yourself some friends or youll be lonely Once I was seven years old Once I was seven years old'</code></pre></div>\n<p>제외 혹은 대체해야할 대상이 많은 경우 리스트로 만들어 위 과정을 한번에 진행 가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">remove_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'I '</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'my '</span><span class=\"token punctuation\">,</span><span class=\"token string\">'me '</span><span class=\"token punctuation\">,</span><span class=\"token string\">'you'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'was'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'we'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'the '</span><span class=\"token punctuation\">,</span><span class=\"token string\">'a '</span><span class=\"token punctuation\">]</span>\n\nexception <span class=\"token operator\">=</span> <span class=\"token string\">'|'</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>remove_list<span class=\"token punctuation\">)</span> <span class=\"token comment\"># I는 각 요소를 분리한다는 의미</span>\n\nresult <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>sub<span class=\"token punctuation\">(</span>exception<span class=\"token punctuation\">,</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span>lines<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">result</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">'Once  seven years old mother told Go make rself sofriends or ll be lonely Once  seven years old It  big big world but  thought  re bigger Pushing each other to limits  re learning quicker By 11 smoking herb and drinking burning liquor Never rich so  re out to make that steady figure Once  11 years old daddy told Go get rself wife or ll be lonely Once  11 years old always had that dream like daddy before So started writing songs started writing stories Something about glory just always seemed to bore Cause only those really love will ever really know Once  20 years old story got told Before morning sun when life  lonely Once  20 years old Lukas Graham only see goals dont believe in failure Cause know smallest voices they can make it major got boys with atleast those in favor And if  dont meet before leave hope Ill see  later Once  20 years old story got told  writing bout everything saw before Once  20 years old Soon ll be 30 years old our songs have been sold Weve traveled around world and re still roaming Soon ll be 30 years old Im still learning about life My woman brought children for So can sing them all songs And can tell them stories Most of boys are with Soare still out seeking glory And sohad to leave behind My brother Im still sorry Soon Ill be 60 years old daddy got 61 Remember life and then r life becomes better one made man so happy when wrote letter once hope children coand visit once or twice month Soon Ill be 60 years old will think world is cold Or will have lot of children who can warm Soon Ill be 60 years old Soon Ill be 60 years old will think world is cold Or will have lot of children who can hold Soon Ill be 60 years old Once  seven years old mother told Go make rself sofriends or ll be lonely Once  seven years old Once  seven years old'</code></pre></div>\n<h4 id=\"3-dataframe\" style=\"position:relative;\"><a href=\"#3-dataframe\" aria-label=\"3 dataframe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. DataFrame</h4>\n<p>제품의 제조사 및 불필요 단어 제외하기</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"./data/ramen.csv\"</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n\ndf <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">'판매장소'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'제품명'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'용량'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'가격(원)'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n\ndf</code></pre></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>판매장소</th>\n      <th>제품명</th>\n      <th>용량</th>\n      <th>가격(원)</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>롯데백화점(롯데백화점본점)</td>\n      <td>[농심]신라면</td>\n      <td>600.0g</td>\n      <td>4,500</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>신세계백화점(신세계백화점본점)</td>\n      <td>[농심]신라면</td>\n      <td>600.0g</td>\n      <td>4,500</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>롯데백화점</td>\n      <td>[농심]신라면</td>\n      <td>600.0g</td>\n      <td>4,500</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>롯데백화점</td>\n      <td>[농심]신라면</td>\n      <td>600.0g</td>\n      <td>4,500</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>현대백화점(현대백화점미아점)</td>\n      <td>[농심]신라면</td>\n      <td>600.0g</td>\n      <td>3,900</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>1243</th>\n      <td>현대그린마트</td>\n      <td>[오뚜기]진라면 순한맛</td>\n      <td>600.0g</td>\n      <td>3,450</td>\n    </tr>\n    <tr>\n      <th>1244</th>\n      <td>세이브마트</td>\n      <td>[오뚜기]진라면 순한맛</td>\n      <td>600.0g</td>\n      <td>2,980</td>\n    </tr>\n    <tr>\n      <th>1245</th>\n      <td>하모니마트 기산점</td>\n      <td>[오뚜기]진라면 순한맛</td>\n      <td>600.0g</td>\n      <td>3,450</td>\n    </tr>\n    <tr>\n      <th>1246</th>\n      <td>마트킹 안녕점</td>\n      <td>[오뚜기]진라면 순한맛</td>\n      <td>600.0g</td>\n      <td>3,480</td>\n    </tr>\n    <tr>\n      <th>1247</th>\n      <td>에코마트</td>\n      <td>[오뚜기]진라면 순한맛</td>\n      <td>600.0g</td>\n      <td>3,280</td>\n    </tr>\n  </tbody>\n</table>\n<p>1248 rows × 4 columns</p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">regex <span class=\"token operator\">=</span> <span class=\"token string\">\"\\[.*\\]|\\s-\\s.*\"</span>\n\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    df<span class=\"token punctuation\">[</span><span class=\"token string\">'제품명'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>sub<span class=\"token punctuation\">(</span>regex<span class=\"token punctuation\">,</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'제품명'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 괄호</span>\n    df<span class=\"token punctuation\">[</span><span class=\"token string\">'제품명'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> re<span class=\"token punctuation\">.</span>sub<span class=\"token punctuation\">(</span><span class=\"token string\">'순한맛'</span><span class=\"token punctuation\">,</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'제품명'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df</code></pre></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>판매장소</th>\n      <th>제품명</th>\n      <th>용량</th>\n      <th>가격(원)</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>롯데백화점(롯데백화점본점)</td>\n      <td>신라면</td>\n      <td>600.0g</td>\n      <td>4,500</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>신세계백화점(신세계백화점본점)</td>\n      <td>신라면</td>\n      <td>600.0g</td>\n      <td>4,500</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>롯데백화점</td>\n      <td>신라면</td>\n      <td>600.0g</td>\n      <td>4,500</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>롯데백화점</td>\n      <td>신라면</td>\n      <td>600.0g</td>\n      <td>4,500</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>현대백화점(현대백화점미아점)</td>\n      <td>신라면</td>\n      <td>600.0g</td>\n      <td>3,900</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>1243</th>\n      <td>현대그린마트</td>\n      <td>진라면</td>\n      <td>600.0g</td>\n      <td>3,450</td>\n    </tr>\n    <tr>\n      <th>1244</th>\n      <td>세이브마트</td>\n      <td>진라면</td>\n      <td>600.0g</td>\n      <td>2,980</td>\n    </tr>\n    <tr>\n      <th>1245</th>\n      <td>하모니마트 기산점</td>\n      <td>진라면</td>\n      <td>600.0g</td>\n      <td>3,450</td>\n    </tr>\n    <tr>\n      <th>1246</th>\n      <td>마트킹 안녕점</td>\n      <td>진라면</td>\n      <td>600.0g</td>\n      <td>3,480</td>\n    </tr>\n    <tr>\n      <th>1247</th>\n      <td>에코마트</td>\n      <td>진라면</td>\n      <td>600.0g</td>\n      <td>3,280</td>\n    </tr>\n  </tbody>\n</table>\n<p>1248 rows × 4 columns</p>\n</div>","excerpt":"특수문자 제거하기 데이터 전처리 과정에서 많이 하는 일 중 하나가 특수문자 제거 혹은 다른 값 대체하는 것 replace re 모듈 대체로 replace 보다는 re 모듈을 사용해서 문자열을 제외한다. 1. 문자열 2. 리스트 주의! 만약 아래와 같은 에러 코드가 발생한다면 리스트를 str(list)로 변환하면 된다. TypeError: expected strings or bytes-like object 제외 혹은 대체해야할 대상이 많은 경우 리스트로 만들어 위 과정을 한번에 진행 가능하다. 3. DataFrame 제품의 제조사 및 불필요 단어 제외하기","frontmatter":{"date":"August 11, 2022","title":"특수문자 제거하기","categories":"Python","author":"HwanHee Park","emoji":"💻"},"fields":{"slug":"/Python/[python] 특수문자 제거하기/"}},"next":{"id":"e47b0147-862b-5b04-8e95-af2e4574f2d1","html":"<p>이번 장에서는 전 장에서 진행한 자료를 가지고 Pyspark의 ML 라이브러리를 활용하여 폐업 가능확률을 알아보자</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pyspark\n<span class=\"token keyword\">from</span> pyspark<span class=\"token punctuation\">.</span>sql <span class=\"token keyword\">import</span> SparkSession\n<span class=\"token keyword\">from</span> pyspark<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>functions <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">import</span> matplotlib<span class=\"token punctuation\">.</span>pyplot <span class=\"token keyword\">as</span> plt\n<span class=\"token keyword\">import</span> warnings\nwarnings<span class=\"token punctuation\">.</span>filterwarnings<span class=\"token punctuation\">(</span><span class=\"token string\">'ignore'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> matplotlib <span class=\"token keyword\">import</span> font_manager<span class=\"token punctuation\">,</span>rc\n<span class=\"token keyword\">import</span> matplotlib\n\nfont_path <span class=\"token operator\">=</span> <span class=\"token string\">'C:\\\\Windows\\\\Fonts\\\\gulim.ttc'</span>\n\n<span class=\"token comment\">#폰트 이름 얻어오기</span>\nfont_name <span class=\"token operator\">=</span> font_manager<span class=\"token punctuation\">.</span>FontProperties<span class=\"token punctuation\">(</span>fname<span class=\"token operator\">=</span>font_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>get_name<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">#font 설정</span>\nmatplotlib<span class=\"token punctuation\">.</span>rc<span class=\"token punctuation\">(</span><span class=\"token string\">'font'</span><span class=\"token punctuation\">,</span>family<span class=\"token operator\">=</span>font_name<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># SparkSession</span>\nspark <span class=\"token operator\">=</span>  pyspark<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>SparkSession \\\n         <span class=\"token punctuation\">.</span>builder \\\n         <span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">(</span><span class=\"token string\">\"spark.driver.extraClassPath\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">r\"C:\\\\Program Files\\\\PostgreSQL\\\\14\\\\bin\\\\postgresql-42.3.3.jar\"</span><span class=\"token punctuation\">)</span> \\\n         <span class=\"token punctuation\">.</span>getOrCreate<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">lodge <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"C:\\\\Users\\\\USER\\\\Desktop\\\\Analysis\\\\Proceed\\\\Spark\\\\lodge_analysis\\\\lodge_analysis.csv\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">lodge</code></pre></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>번호</th>\n      <th>개방서비스명</th>\n      <th>사업장명</th>\n      <th>지역</th>\n      <th>상세영업상태명</th>\n      <th>인허가일자</th>\n      <th>폐업일자</th>\n      <th>갱신일자</th>\n      <th>면적</th>\n      <th>운영기간</th>\n      <th>start_year</th>\n      <th>end_year</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>39267</td>\n      <td>숙박업</td>\n      <td>산호장여관</td>\n      <td>창원시</td>\n      <td>폐업</td>\n      <td>19780731</td>\n      <td>20030331</td>\n      <td>2021-07</td>\n      <td>77.17</td>\n      <td>25.0</td>\n      <td>1978</td>\n      <td>2003</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>39268</td>\n      <td>숙박업</td>\n      <td>새한여관</td>\n      <td>창원시</td>\n      <td>폐업</td>\n      <td>19800220</td>\n      <td>20071218</td>\n      <td>2021-07</td>\n      <td>272.00</td>\n      <td>27.0</td>\n      <td>1980</td>\n      <td>2007</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>39269</td>\n      <td>숙박업</td>\n      <td>삼성</td>\n      <td>창원시</td>\n      <td>폐업</td>\n      <td>19700811</td>\n      <td>19990123</td>\n      <td>2021-07</td>\n      <td>86.94</td>\n      <td>29.0</td>\n      <td>1970</td>\n      <td>1999</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>39270</td>\n      <td>숙박업</td>\n      <td>승정원</td>\n      <td>창원시</td>\n      <td>폐업</td>\n      <td>20120625</td>\n      <td>20171214</td>\n      <td>2021-07</td>\n      <td>292.50</td>\n      <td>5.0</td>\n      <td>2012</td>\n      <td>2017</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>39271</td>\n      <td>숙박업</td>\n      <td>에스모텔</td>\n      <td>창원시</td>\n      <td>폐업</td>\n      <td>20030116</td>\n      <td>20160125</td>\n      <td>2021-07</td>\n      <td>351.80</td>\n      <td>13.0</td>\n      <td>2003</td>\n      <td>2016</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>67323</th>\n      <td>618</td>\n      <td>자동차야영장업</td>\n      <td>캠핑스타</td>\n      <td>제주시</td>\n      <td>폐업</td>\n      <td>20160308</td>\n      <td>20220311</td>\n      <td>2019-10</td>\n      <td>335.00</td>\n      <td>6.0</td>\n      <td>2016</td>\n      <td>2022</td>\n    </tr>\n    <tr>\n      <th>67324</th>\n      <td>619</td>\n      <td>자동차야영장업</td>\n      <td>지리산 호수공원 오토캠핑장</td>\n      <td>구례군</td>\n      <td>폐업</td>\n      <td>20200909</td>\n      <td>20220311</td>\n      <td>2021-05</td>\n      <td>0.00</td>\n      <td>2.0</td>\n      <td>2020</td>\n      <td>2022</td>\n    </tr>\n    <tr>\n      <th>67325</th>\n      <td>620</td>\n      <td>자동차야영장업</td>\n      <td>마린오토캠핑장</td>\n      <td>태안군</td>\n      <td>폐업</td>\n      <td>20160624</td>\n      <td>20161018</td>\n      <td>2018-08</td>\n      <td>335.00</td>\n      <td>0.0</td>\n      <td>2016</td>\n      <td>2016</td>\n    </tr>\n    <tr>\n      <th>67326</th>\n      <td>621</td>\n      <td>자동차야영장업</td>\n      <td>명사십리 신리야영장</td>\n      <td>완도군</td>\n      <td>폐업</td>\n      <td>20190722</td>\n      <td>20190826</td>\n      <td>2019-08</td>\n      <td>0.00</td>\n      <td>0.0</td>\n      <td>2019</td>\n      <td>2019</td>\n    </tr>\n    <tr>\n      <th>67327</th>\n      <td>622</td>\n      <td>자동차야영장업</td>\n      <td>인제나르샤파크 캠핑장</td>\n      <td>인제군</td>\n      <td>폐업</td>\n      <td>20160602</td>\n      <td>20200507</td>\n      <td>2020-05</td>\n      <td>335.00</td>\n      <td>4.0</td>\n      <td>2016</td>\n      <td>2020</td>\n    </tr>\n  </tbody>\n</table>\n<p>67328 rows × 12 columns</p>\n</div>\n<h3 id=\"변수-선택-및-변환\" style=\"position:relative;\"><a href=\"#%EB%B3%80%EC%88%98-%EC%84%A0%ED%83%9D-%EB%B0%8F-%EB%B3%80%ED%99%98\" aria-label=\"변수 선택 및 변환 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>변수 선택 및 변환</h3>\n<ol>\n<li>불필요한 칼럼 제외 (번호, 사업장명, start_year, end_year)</li>\n<li>날짜형으로 데이터 변환</li>\n<li>Label Encoding</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">## 과정 2 진행 중 date 범위 오류값 수정</span>\n<span class=\"token comment\"># 인허가일자</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'인허가일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'인허가일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">19970230</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">19970228</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'인허가일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'인허가일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">19750229</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">19750228</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'인허가일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'인허가일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">19940431</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">19940430</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'인허가일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'인허가일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">19840431</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">19840430</span>\n\n<span class=\"token comment\"># 폐업일자</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">20020230</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">20020228</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">20020231</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">20020228</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">20140000</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">20140101</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">20000300</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">20000301</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">20020400</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">20020401</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">19990900</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">19990901</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">20000900</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">20000901</span>\nlodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>lodge<span class=\"token punctuation\">[</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token number\">19970230</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">19970228</span>\n\ndata <span class=\"token operator\">=</span> lodge\n\n<span class=\"token comment\"># 불필요한 칼럼 제외</span>\ndata <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>drop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'번호'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'사업장명'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'start_year'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'end_year'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#-------- 날짜형으로 데이터 변환 ------------</span>\n<span class=\"token comment\"># 약간 지저분한 방식으로 날짜형 데이터로 전환</span>\n<span class=\"token comment\"># 1. int-> str 변환</span>\n<span class=\"token comment\"># 2. str.slice 함수 사용하여 년도,월,일로 나눔</span>\n<span class=\"token comment\"># 3. 나눠진 칼럼을 to_datetime으로 날짜형데이터로 변환</span>\n<span class=\"token comment\"># 1~3 과정에서 발생한 임시 칼럼 삭제</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">make_datetime</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">,</span>col<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    df<span class=\"token punctuation\">[</span>col<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span>col<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>astype<span class=\"token punctuation\">(</span><span class=\"token string\">'str'</span><span class=\"token punctuation\">)</span>\n    temp <span class=\"token operator\">=</span> df\n    temp <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span>temp<span class=\"token punctuation\">)</span>\n    temp<span class=\"token punctuation\">[</span><span class=\"token string\">'y'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> temp<span class=\"token punctuation\">[</span>col<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">slice</span><span class=\"token punctuation\">(</span>start<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> stop<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n    temp<span class=\"token punctuation\">[</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> temp<span class=\"token punctuation\">[</span>col<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">slice</span><span class=\"token punctuation\">(</span>start<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> stop<span class=\"token operator\">=</span><span class=\"token number\">6</span><span class=\"token punctuation\">)</span>\n    temp<span class=\"token punctuation\">[</span><span class=\"token string\">'d'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> temp<span class=\"token punctuation\">[</span>col<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">slice</span><span class=\"token punctuation\">(</span>start<span class=\"token operator\">=</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span> stop<span class=\"token operator\">=</span><span class=\"token number\">8</span><span class=\"token punctuation\">)</span>\n    \n    temp<span class=\"token punctuation\">[</span>col<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> temp<span class=\"token punctuation\">[</span><span class=\"token string\">'y'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span><span class=\"token string\">\"-\"</span><span class=\"token operator\">+</span>temp<span class=\"token punctuation\">[</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">+</span><span class=\"token string\">\"-\"</span><span class=\"token operator\">+</span>temp<span class=\"token punctuation\">[</span><span class=\"token string\">'d'</span><span class=\"token punctuation\">]</span>\n    temp<span class=\"token punctuation\">[</span>col<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>to_datetime<span class=\"token punctuation\">(</span>temp<span class=\"token punctuation\">[</span>col<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    \n    df<span class=\"token punctuation\">[</span><span class=\"token string\">'date'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> temp<span class=\"token punctuation\">[</span>col<span class=\"token punctuation\">]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">make_datetime<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span><span class=\"token string\">'인허가일자'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">make_datetime<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>drop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'y'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'m'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'d'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'date'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\ndata</code></pre></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>개방서비스명</th>\n      <th>지역</th>\n      <th>상세영업상태명</th>\n      <th>인허가일자</th>\n      <th>폐업일자</th>\n      <th>갱신일자</th>\n      <th>면적</th>\n      <th>운영기간</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>숙박업</td>\n      <td>창원시</td>\n      <td>폐업</td>\n      <td>1978-07-31</td>\n      <td>2003-03-31</td>\n      <td>2021-07</td>\n      <td>77.17</td>\n      <td>25.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>숙박업</td>\n      <td>창원시</td>\n      <td>폐업</td>\n      <td>1980-02-20</td>\n      <td>2007-12-18</td>\n      <td>2021-07</td>\n      <td>272.00</td>\n      <td>27.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>숙박업</td>\n      <td>창원시</td>\n      <td>폐업</td>\n      <td>1970-08-11</td>\n      <td>1999-01-23</td>\n      <td>2021-07</td>\n      <td>86.94</td>\n      <td>29.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>숙박업</td>\n      <td>창원시</td>\n      <td>폐업</td>\n      <td>2012-06-25</td>\n      <td>2017-12-14</td>\n      <td>2021-07</td>\n      <td>292.50</td>\n      <td>5.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>숙박업</td>\n      <td>창원시</td>\n      <td>폐업</td>\n      <td>2003-01-16</td>\n      <td>2016-01-25</td>\n      <td>2021-07</td>\n      <td>351.80</td>\n      <td>13.0</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>67323</th>\n      <td>자동차야영장업</td>\n      <td>제주시</td>\n      <td>폐업</td>\n      <td>2016-03-08</td>\n      <td>2022-03-11</td>\n      <td>2019-10</td>\n      <td>335.00</td>\n      <td>6.0</td>\n    </tr>\n    <tr>\n      <th>67324</th>\n      <td>자동차야영장업</td>\n      <td>구례군</td>\n      <td>폐업</td>\n      <td>2020-09-09</td>\n      <td>2022-03-11</td>\n      <td>2021-05</td>\n      <td>0.00</td>\n      <td>2.0</td>\n    </tr>\n    <tr>\n      <th>67325</th>\n      <td>자동차야영장업</td>\n      <td>태안군</td>\n      <td>폐업</td>\n      <td>2016-06-24</td>\n      <td>2016-10-18</td>\n      <td>2018-08</td>\n      <td>335.00</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>67326</th>\n      <td>자동차야영장업</td>\n      <td>완도군</td>\n      <td>폐업</td>\n      <td>2019-07-22</td>\n      <td>2019-08-26</td>\n      <td>2019-08</td>\n      <td>0.00</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>67327</th>\n      <td>자동차야영장업</td>\n      <td>인제군</td>\n      <td>폐업</td>\n      <td>2016-06-02</td>\n      <td>2020-05-07</td>\n      <td>2020-05</td>\n      <td>335.00</td>\n      <td>4.0</td>\n    </tr>\n  </tbody>\n</table>\n<p>67328 rows × 8 columns</p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>sort_values<span class=\"token punctuation\">(</span>by<span class=\"token operator\">=</span><span class=\"token string\">\"개방서비스명\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 본격적인 머신러닝을 하기 위해 0으로 지정한 값(null)을 중간값으로 값을 대체</span>\n\n<span class=\"token comment\">#data['운영기간'][data['운영기간'] ==0] = 17</span>\n\n<span class=\"token comment\">#data['면적'][data['면적'] == 0 ] = 335</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data</code></pre></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>개방서비스명</th>\n      <th>지역</th>\n      <th>상세영업상태명</th>\n      <th>인허가일자</th>\n      <th>폐업일자</th>\n      <th>갱신일자</th>\n      <th>면적</th>\n      <th>운영기간</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>54601</th>\n      <td>0</td>\n      <td>999</td>\n      <td>폐업</td>\n      <td>1948-08-15</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>74.0</td>\n    </tr>\n    <tr>\n      <th>55414</th>\n      <td>0</td>\n      <td>999</td>\n      <td>폐업</td>\n      <td>1948-08-15</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>74.0</td>\n    </tr>\n    <tr>\n      <th>55416</th>\n      <td>0</td>\n      <td>999</td>\n      <td>폐업</td>\n      <td>1948-08-15</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>74.0</td>\n    </tr>\n    <tr>\n      <th>55419</th>\n      <td>0</td>\n      <td>999</td>\n      <td>폐업</td>\n      <td>1948-08-15</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>74.0</td>\n    </tr>\n    <tr>\n      <th>65386</th>\n      <td>0</td>\n      <td>999</td>\n      <td>폐업</td>\n      <td>1948-08-15</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>74.0</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>65176</th>\n      <td>한옥체험업</td>\n      <td>강진군</td>\n      <td>영업</td>\n      <td>2013-11-30</td>\n      <td>2022-03-11</td>\n      <td>2021-07</td>\n      <td>117.41</td>\n      <td>9.0</td>\n    </tr>\n    <tr>\n      <th>65177</th>\n      <td>한옥체험업</td>\n      <td>경주시</td>\n      <td>영업</td>\n      <td>2019-07-02</td>\n      <td>2022-03-11</td>\n      <td>2021-07</td>\n      <td>335.00</td>\n      <td>3.0</td>\n    </tr>\n    <tr>\n      <th>65178</th>\n      <td>한옥체험업</td>\n      <td>서울특별시</td>\n      <td>영업</td>\n      <td>2021-07-05</td>\n      <td>2022-03-11</td>\n      <td>2021-07</td>\n      <td>335.00</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>65180</th>\n      <td>한옥체험업</td>\n      <td>강진군</td>\n      <td>영업</td>\n      <td>2013-12-02</td>\n      <td>2022-03-11</td>\n      <td>2021-07</td>\n      <td>95.58</td>\n      <td>9.0</td>\n    </tr>\n    <tr>\n      <th>65053</th>\n      <td>한옥체험업</td>\n      <td>전주시</td>\n      <td>영업</td>\n      <td>2013-11-06</td>\n      <td>2022-03-11</td>\n      <td>2021-11</td>\n      <td>335.00</td>\n      <td>9.0</td>\n    </tr>\n  </tbody>\n</table>\n<p>67328 rows × 8 columns</p>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">.dataframe tbody tr th {\n    vertical-align: top;\n}\n\n.dataframe thead th {\n    text-align: right;\n}</code></pre></div>\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>개방서비스명</th>\n      <th>지역</th>\n      <th>상세영업상태명</th>\n      <th>인허가일자</th>\n      <th>폐업일자</th>\n      <th>갱신일자</th>\n      <th>면적</th>\n      <th>운영기간</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>54601</th>\n      <td>0</td>\n      <td>999</td>\n      <td>폐업</td>\n      <td>1948-08-15</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>74.0</td>\n    </tr>\n    <tr>\n      <th>55414</th>\n      <td>0</td>\n      <td>999</td>\n      <td>폐업</td>\n      <td>1948-08-15</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>74.0</td>\n    </tr>\n    <tr>\n      <th>55416</th>\n      <td>0</td>\n      <td>999</td>\n      <td>폐업</td>\n      <td>1948-08-15</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>74.0</td>\n    </tr>\n    <tr>\n      <th>55419</th>\n      <td>0</td>\n      <td>999</td>\n      <td>폐업</td>\n      <td>1948-08-15</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>74.0</td>\n    </tr>\n    <tr>\n      <th>65386</th>\n      <td>0</td>\n      <td>999</td>\n      <td>폐업</td>\n      <td>1948-08-15</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>74.0</td>\n    </tr>\n    <tr>\n      <th>61838</th>\n      <td>General Campground</td>\n      <td>0</td>\n      <td>영업</td>\n      <td>1948-08-15</td>\n      <td>1948-08-15</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>59790</th>\n      <td>Resort Condominium</td>\n      <td>0</td>\n      <td>영업</td>\n      <td>1948-08-15</td>\n      <td>1948-08-15</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>0.0</td>\n    </tr>\n    <tr>\n      <th>60027</th>\n      <td>Resort Condominium</td>\n      <td>999</td>\n      <td>영업</td>\n      <td>1999-12-31</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>23.0</td>\n    </tr>\n    <tr>\n      <th>57840</th>\n      <td>TOURIST HOTEL</td>\n      <td>999</td>\n      <td>영업</td>\n      <td>1999-12-31</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>23.0</td>\n    </tr>\n    <tr>\n      <th>60575</th>\n      <td>Tourist Accommodation Business</td>\n      <td>999</td>\n      <td>영업</td>\n      <td>1999-12-31</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>23.0</td>\n    </tr>\n    <tr>\n      <th>64112</th>\n      <td>Traditional Korean</td>\n      <td>999</td>\n      <td>영업</td>\n      <td>1999-12-31</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>23.0</td>\n    </tr>\n    <tr>\n      <th>64879</th>\n      <td>Traditional Korean housing experiencing business</td>\n      <td>999</td>\n      <td>영업</td>\n      <td>1999-12-31</td>\n      <td>2022-03-11</td>\n      <td>2022-03</td>\n      <td>335.00</td>\n      <td>23.0</td>\n    </tr>\n    <tr>\n      <th>58137</th>\n      <td>관광숙박업</td>\n      <td>평창군</td>\n      <td>폐업</td>\n      <td>1997-03-14</td>\n      <td>2006-08-31</td>\n      <td>2018-08</td>\n      <td>0.00</td>\n      <td>9.0</td>\n    </tr>\n    <tr>\n      <th>59038</th>\n      <td>관광숙박업</td>\n      <td>부산광역시</td>\n      <td>영업</td>\n      <td>2016-09-27</td>\n      <td>2022-03-11</td>\n      <td>2018-12</td>\n      <td>218.85</td>\n      <td>6.0</td>\n    </tr>\n    <tr>\n      <th>59039</th>\n      <td>관광숙박업</td>\n      <td>부산광역시</td>\n      <td>영업</td>\n      <td>2016-12-30</td>\n      <td>2022-03-11</td>\n      <td>2021-10</td>\n      <td>624.75</td>\n      <td>6.0</td>\n    </tr>\n    <tr>\n      <th>59042</th>\n      <td>관광숙박업</td>\n      <td>부산광역시</td>\n      <td>영업</td>\n      <td>2017-03-15</td>\n      <td>2022-03-11</td>\n      <td>2021-08</td>\n      <td>225.16</td>\n      <td>5.0</td>\n    </tr>\n    <tr>\n      <th>59041</th>\n      <td>관광숙박업</td>\n      <td>부산광역시</td>\n      <td>영업</td>\n      <td>2017-02-03</td>\n      <td>2022-03-11</td>\n      <td>2020-02</td>\n      <td>313.04</td>\n      <td>5.0</td>\n    </tr>\n    <tr>\n      <th>59043</th>\n      <td>관광숙박업</td>\n      <td>부산광역시</td>\n      <td>영업</td>\n      <td>2017-03-31</td>\n      <td>2022-03-11</td>\n      <td>2022-01</td>\n      <td>1382.35</td>\n      <td>5.0</td>\n    </tr>\n    <tr>\n      <th>59044</th>\n      <td>관광숙박업</td>\n      <td>부산광역시</td>\n      <td>영업</td>\n      <td>2017-06-01</td>\n      <td>2022-03-11</td>\n      <td>2019-02</td>\n      <td>169.63</td>\n      <td>5.0</td>\n    </tr>\n    <tr>\n      <th>59045</th>\n      <td>관광숙박업</td>\n      <td>부산광역시</td>\n      <td>영업</td>\n      <td>2017-07-03</td>\n      <td>2022-03-11</td>\n      <td>2018-12</td>\n      <td>246.27</td>\n      <td>5.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data <span class=\"token operator\">=</span> data<span class=\"token punctuation\">[</span><span class=\"token number\">12</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data<span class=\"token punctuation\">.</span>to_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"C:\\\\Users\\\\USER\\\\Desktop\\\\Analysis\\\\Proceed\\\\Spark\\\\lodge_analysis\\\\dataset.csv\"</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'cp949'</span><span class=\"token punctuation\">,</span> index<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> pyspark<span class=\"token punctuation\">.</span>sql <span class=\"token keyword\">import</span> SparkSession\n<span class=\"token keyword\">from</span> pyspark<span class=\"token punctuation\">.</span>sql<span class=\"token punctuation\">.</span>functions <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n\n<span class=\"token comment\"># SparkSession 객체 생성</span>\nspark <span class=\"token operator\">=</span> SparkSession\\\n        <span class=\"token punctuation\">.</span>builder\\\n        <span class=\"token punctuation\">.</span>appName<span class=\"token punctuation\">(</span><span class=\"token string\">'PySpark ML for Loging Industry'</span><span class=\"token punctuation\">)</span>\\\n        <span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">(</span><span class=\"token string\">'spark.some.config.option'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'some-value'</span><span class=\"token punctuation\">)</span>\\\n        <span class=\"token punctuation\">.</span>getOrCreate<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df <span class=\"token operator\">=</span> spark<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">.</span>csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"C:\\\\Users\\\\USER\\\\Desktop\\\\Analysis\\\\Proceed\\\\Spark\\\\lodge_analysis\\\\dataset.csv\"</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">'cp949'</span><span class=\"token punctuation\">,</span>inferSchema <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">,</span> header <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">+------------+----------+--------------+----------+----------+--------+-------+--------+\n|개방서비스명|      지역|상세영업상태명|인허가일자|  폐업일자|갱신일자|   면적|운영기간|\n+------------+----------+--------------+----------+----------+--------+-------+--------+\n|  관광숙박업|    평창군|          폐업|1997-03-14|2006-08-31| 2018-08|    0.0|     9.0|\n|  관광숙박업|부산광역시|          영업|2016-09-27|2022-03-11| 2018-12| 218.85|     6.0|\n|  관광숙박업|부산광역시|          영업|2016-12-30|2022-03-11| 2021-10| 624.75|     6.0|\n|  관광숙박업|부산광역시|          영업|2017-03-15|2022-03-11| 2021-08| 225.16|     5.0|\n|  관광숙박업|부산광역시|          영업|2017-02-03|2022-03-11| 2020-02| 313.04|     5.0|\n|  관광숙박업|부산광역시|          영업|2017-03-31|2022-03-11| 2022-01|1382.35|     5.0|\n|  관광숙박업|부산광역시|          영업|2017-06-01|2022-03-11| 2019-02| 169.63|     5.0|\n|  관광숙박업|부산광역시|          영업|2017-07-03|2022-03-11| 2018-12| 246.27|     5.0|\n|  관광숙박업|부산광역시|          영업|2017-07-04|2022-03-11| 2018-11| 206.16|     5.0|\n|  관광숙박업|부산광역시|          영업|2016-12-30|2022-03-11| 2018-08|    0.0|     6.0|\n|  관광숙박업|부산광역시|          영업|2016-09-19|2022-03-11| 2018-08| 129.96|     6.0|\n|  관광숙박업|부산광역시|          영업|2017-12-28|2022-03-11| 2020-12| 279.23|     5.0|\n|  관광숙박업|부산광역시|          영업|2015-09-18|2022-03-11| 2021-05| 120.07|     7.0|\n|  관광숙박업|부산광역시|          영업|2015-08-31|2022-03-11| 2019-04| 207.99|     7.0|\n|  관광숙박업|부산광역시|          영업|2017-07-10|2022-03-11| 2020-08|  178.2|     5.0|\n|  관광숙박업|부산광역시|          영업|2017-11-14|2022-03-11| 2020-11| 108.39|     5.0|\n|  관광숙박업|부산광역시|          영업|2015-11-16|2022-03-11| 2020-09|  335.0|     7.0|\n|  관광숙박업|부산광역시|          영업|2015-09-16|2022-03-11| 2021-10| 195.89|     7.0|\n|  관광숙박업|부산광역시|          영업|2015-07-27|2022-03-11| 2021-02| 375.16|     7.0|\n|  관광숙박업|부산광역시|          영업|2015-06-12|2022-03-11| 2021-06|    0.0|     7.0|\n+------------+----------+--------------+----------+----------+--------+-------+--------+\nonly showing top 20 rows</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df<span class=\"token punctuation\">.</span>orderBy<span class=\"token punctuation\">(</span><span class=\"token string\">\"인허가일자\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">+------------+----------+--------------+----------+----------+--------+------+--------+\n|개방서비스명|      지역|상세영업상태명|인허가일자|  폐업일자|갱신일자|  면적|운영기간|\n+------------+----------+--------------+----------+----------+--------+------+--------+\n|      숙박업|서울특별시|          폐업|1948-08-15|1967-07-10| 2018-08| 335.0|    19.0|\n|      숙박업|서울특별시|          폐업|1948-08-15|2001-07-07| 2018-08| 335.0|    53.0|\n|      숙박업|서울특별시|          폐업|1948-08-15|2015-12-03| 2018-08| 148.5|    67.0|\n|      숙박업|서울특별시|          폐업|1948-08-15|2001-02-01| 2018-08| 335.0|    53.0|\n|      숙박업|서울특별시|          폐업|1948-08-15|1975-09-18| 2018-08| 335.0|    27.0|\n|      숙박업|서울특별시|          폐업|1948-08-15|1972-07-31| 2018-08| 335.0|    24.0|\n|      숙박업|서울특별시|          영업|1948-08-15|2022-03-11| 2019-12|144.93|    74.0|\n|      숙박업|서울특별시|          폐업|1948-08-15|2000-06-15| 2018-08| 335.0|    52.0|\n|      숙박업|서울특별시|          폐업|1948-08-15|2001-05-17| 2018-08| 335.0|    53.0|\n|      숙박업|서울특별시|          영업|1948-08-15|2022-03-11| 2018-10| 907.0|    74.0|\n|      숙박업|서울특별시|          폐업|1948-08-15|1948-08-15| 2018-08| 335.0|     0.0|\n|      숙박업|서울특별시|          폐업|1949-07-05|2006-03-27| 2018-08| 165.0|    57.0|\n|      숙박업|인천광역시|          폐업|1952-04-13|2018-08-28| 2018-10| 335.0|    66.0|\n|      숙박업|    경주시|          폐업|1954-01-31|1991-07-05| 2018-08|500.96|    37.0|\n|      숙박업|    영광군|          폐업|1954-02-08|2006-10-18| 2018-08|  88.0|    52.0|\n|      숙박업|    해남군|          폐업|1955-01-20|2002-05-02| 2018-08| 335.0|    47.0|\n|      숙박업|    창원시|          폐업|1955-06-14|1999-03-02| 2021-07|166.77|    44.0|\n|      숙박업|    경주시|          영업|1957-04-19|2022-03-11| 2021-02| 335.0|    65.0|\n|      숙박업|    창원시|          폐업|1958-04-28|2018-01-24| 2021-07| 63.46|    60.0|\n|      숙박업|    창원시|          영업|1958-05-19|2022-03-11| 2021-07| 74.04|    64.0|\n+------------+----------+--------------+----------+----------+--------+------+--------+\nonly showing top 20 rows</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">df<span class=\"token punctuation\">.</span>orderBy<span class=\"token punctuation\">(</span><span class=\"token string\">\"개방서비스명\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">+------------+----------+--------------+----------+----------+--------+-------+--------+\n|개방서비스명|      지역|상세영업상태명|인허가일자|  폐업일자|갱신일자|   면적|운영기간|\n+------------+----------+--------------+----------+----------+--------+-------+--------+\n|  관광숙박업|부산광역시|          영업|2015-06-12|2022-03-11| 2021-06|    0.0|     7.0|\n|  관광숙박업|부산광역시|          영업|2017-12-28|2022-03-11| 2020-12| 279.23|     5.0|\n|  관광숙박업|부산광역시|          영업|2015-07-27|2022-03-11| 2021-02| 375.16|     7.0|\n|  관광숙박업|부산광역시|          영업|2017-06-01|2022-03-11| 2019-02| 169.63|     5.0|\n|  관광숙박업|부산광역시|          영업|2016-09-19|2022-03-11| 2018-08| 129.96|     6.0|\n|  관광숙박업|부산광역시|          영업|2017-07-10|2022-03-11| 2020-08|  178.2|     5.0|\n|  관광숙박업|부산광역시|          영업|2015-09-16|2022-03-11| 2021-10| 195.89|     7.0|\n|  관광숙박업|부산광역시|          영업|2016-12-30|2022-03-11| 2021-10| 624.75|     6.0|\n|  관광숙박업|부산광역시|          영업|2017-03-31|2022-03-11| 2022-01|1382.35|     5.0|\n|  관광숙박업|부산광역시|          영업|2017-07-04|2022-03-11| 2018-11| 206.16|     5.0|\n|  관광숙박업|부산광역시|          영업|2016-12-30|2022-03-11| 2018-08|    0.0|     6.0|\n|  관광숙박업|부산광역시|          영업|2015-09-18|2022-03-11| 2021-05| 120.07|     7.0|\n|  관광숙박업|부산광역시|          영업|2015-08-31|2022-03-11| 2019-04| 207.99|     7.0|\n|  관광숙박업|부산광역시|          영업|2017-11-14|2022-03-11| 2020-11| 108.39|     5.0|\n|  관광숙박업|부산광역시|          영업|2015-11-16|2022-03-11| 2020-09|  335.0|     7.0|\n|  관광숙박업|    평창군|          폐업|1997-03-14|2006-08-31| 2018-08|    0.0|     9.0|\n|  관광숙박업|부산광역시|          영업|2016-09-27|2022-03-11| 2018-12| 218.85|     6.0|\n|  관광숙박업|부산광역시|          영업|2017-03-15|2022-03-11| 2021-08| 225.16|     5.0|\n|  관광숙박업|부산광역시|          영업|2017-02-03|2022-03-11| 2020-02| 313.04|     5.0|\n|  관광숙박업|부산광역시|          영업|2017-07-03|2022-03-11| 2018-12| 246.27|     5.0|\n+------------+----------+--------------+----------+----------+--------+-------+--------+\nonly showing top 20 rows</code></pre></div>\n<h3 id=\"범주형-변수-처리하기\" style=\"position:relative;\"><a href=\"#%EB%B2%94%EC%A3%BC%ED%98%95-%EB%B3%80%EC%88%98-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\" aria-label=\"범주형 변수 처리하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>범주형 변수 처리하기</h3>\n<p>아래는 총 3가지 과정으로 진행</p>\n<ol>\n<li>StringIndexer</li>\n</ol>\n<p>범주형 변수를 인덱싱하여 0.0 , 1.0, 2.0 과 같은 번호로 인덱싱</p>\n<ol start=\"2\">\n<li>OneHotEncoder</li>\n</ol>\n<p>인덱싱한 값은 0,1,2 와 같이 값으로써 크기를 가지기 때문에 OneHotEncoder를 사용하여 값의 크기를 갖지 않도록 변환</p>\n<ol start=\"3\">\n<li>VectorAssembler</li>\n</ol>\n<p>인코딩한 값을 벡터로 모으기</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> pyspark<span class=\"token punctuation\">.</span>ml <span class=\"token keyword\">import</span> Pipeline\n<span class=\"token keyword\">from</span> pyspark<span class=\"token punctuation\">.</span>ml<span class=\"token punctuation\">.</span>feature <span class=\"token keyword\">import</span> StringIndexer<span class=\"token punctuation\">,</span> OneHotEncoder<span class=\"token punctuation\">,</span> VectorAssembler\n\n<span class=\"token comment\"># 갱신일자, 인허가일자, 폐업일자를 제외하고 다시 진행</span>\ncategory_cols <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'개방서비스명'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'지역'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'인허가일자'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'폐업일자'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'갱신일자'</span><span class=\"token punctuation\">]</span>\nnumeric_cols <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'면적'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'운영기간'</span><span class=\"token punctuation\">]</span>\n<span class=\"token comment\"># label</span>\nlabel_idx <span class=\"token operator\">=</span> StringIndexer<span class=\"token punctuation\">(</span>inputCol <span class=\"token operator\">=</span> <span class=\"token string\">\"상세영업상태명\"</span><span class=\"token punctuation\">,</span> outputCol<span class=\"token operator\">=</span> <span class=\"token string\">\"label\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 범주형 변수들을 인덱싱</span>\nindexers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n    StringIndexer<span class=\"token punctuation\">(</span>inputCol<span class=\"token operator\">=</span>c<span class=\"token punctuation\">,</span> outputCol<span class=\"token operator\">=</span><span class=\"token string\">\"{0}_indexed\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> c <span class=\"token keyword\">in</span> category_cols\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># 인덱싱한 변수들을 인코딩</span>\nencoders <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>OneHotEncoder<span class=\"token punctuation\">(</span>dropLast<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">,</span>inputCol<span class=\"token operator\">=</span>indexer<span class=\"token punctuation\">.</span>getOutputCol<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            outputCol<span class=\"token operator\">=</span><span class=\"token string\">\"{0}_encoded\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>indexer<span class=\"token punctuation\">.</span>getOutputCol<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> \n    <span class=\"token keyword\">for</span> indexer <span class=\"token keyword\">in</span> indexers\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\"># 인코딩 된 값과 숫자 변수 값을 벡터화</span>\n<span class=\"token comment\"># -- encoder와 numeric cols 의 결합 리스트 관련 지식 부족(Array로 안됨)</span>\n\nassembler <span class=\"token operator\">=</span> VectorAssembler<span class=\"token punctuation\">(</span>inputCols<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">'개방서비스명_indexed_encoded'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'지역_indexed_encoded'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'인허가일자_indexed_encoded'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'폐업일자_indexed_encoded'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'갱신일자_indexed_encoded'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'면적'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'운영기간'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>outputCol<span class=\"token operator\">=</span><span class=\"token string\">\"features\"</span><span class=\"token punctuation\">)</span>\n\npipeline <span class=\"token operator\">=</span> Pipeline<span class=\"token punctuation\">(</span>stages<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>label_idx<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> indexers  <span class=\"token operator\">+</span> encoders<span class=\"token operator\">+</span><span class=\"token punctuation\">[</span>assembler<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nmodel<span class=\"token operator\">=</span>pipeline<span class=\"token punctuation\">.</span>fit<span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">)</span>\ntransformed <span class=\"token operator\">=</span> model<span class=\"token punctuation\">.</span>transform<span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">)</span>\ntransformed<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">+------------+----------+--------------+----------+----------+--------+------+--------+-----+--------------------+------------+------------------+----------------+----------------+----------------------------+--------------------+--------------------------+------------------------+------------------------+--------------------+\n|개방서비스명|      지역|상세영업상태명|인허가일자|  폐업일자|갱신일자|  면적|운영기간|label|개방서비스명_indexed|지역_indexed|인허가일자_indexed|폐업일자_indexed|갱신일자_indexed|개방서비스명_indexed_encoded|지역_indexed_encoded|인허가일자_indexed_encoded|폐업일자_indexed_encoded|갱신일자_indexed_encoded|            features|\n+------------+----------+--------------+----------+----------+--------+------+--------+-----+--------------------+------------+------------------+----------------+----------------+----------------------------+--------------------+--------------------------+------------------------+------------------------+--------------------+\n|  관광숙박업|    평창군|          폐업|1997-03-14|2006-08-31| 2018-08|   0.0|     9.0|  1.0|                 2.0|        55.0|            1373.0|           244.0|             0.0|               (7,[2],[1.0])|    (163,[55],[1.0])|      (14963,[1373],[1.0])|      (6606,[244],[1.0])|          (44,[0],[1.0])|(21785,[2,62,1543...|\n|  관광숙박업|부산광역시|          영업|2016-09-27|2022-03-11| 2018-12|218.85|     6.0|  0.0|                 2.0|         1.0|             887.0|             0.0|            23.0|               (7,[2],[1.0])|     (163,[1],[1.0])|       (14963,[887],[1.0])|        (6606,[0],[1.0])|         (44,[23],[1.0])|(21785,[2,8,1057,...|\n|  관광숙박업|부산광역시|          영업|2016-12-30|2022-03-11| 2021-10|624.75|     6.0|  0.0|                 2.0|         1.0|             686.0|             0.0|             7.0|               (7,[2],[1.0])|     (163,[1],[1.0])|       (14963,[686],[1.0])|        (6606,[0],[1.0])|          (44,[7],[1.0])|(21785,[2,8,856,1...|\n|  관광숙박업|부산광역시|          영업|2017-03-15|2022-03-11| 2021-08|225.16|     5.0|  0.0|                 2.0|         1.0|            5201.0|             0.0|             4.0|               (7,[2],[1.0])|     (163,[1],[1.0])|      (14963,[5201],[1.0])|        (6606,[0],[1.0])|          (44,[4],[1.0])|(21785,[2,8,5371,...|\n|  관광숙박업|부산광역시|          영업|2017-02-03|2022-03-11| 2020-02|313.04|     5.0|  0.0|                 2.0|         1.0|             536.0|             0.0|            20.0|               (7,[2],[1.0])|     (163,[1],[1.0])|       (14963,[536],[1.0])|        (6606,[0],[1.0])|         (44,[20],[1.0])|(21785,[2,8,706,1...|\n+------------+----------+--------------+----------+----------+--------+------+--------+-----+--------------------+------------+------------------+----------------+----------------+----------------------------+--------------------+--------------------------+------------------------+------------------------+--------------------+\nonly showing top 5 rows</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">trans_df <span class=\"token operator\">=</span> transformed<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'label'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'features'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> pyspark<span class=\"token punctuation\">.</span>ml<span class=\"token punctuation\">.</span>regression <span class=\"token keyword\">import</span> LinearRegression\n\nlr <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>LinearRegression<span class=\"token punctuation\">(</span>featuresCol<span class=\"token operator\">=</span><span class=\"token string\">'features'</span><span class=\"token punctuation\">,</span> labelCol<span class=\"token operator\">=</span><span class=\"token string\">\"label\"</span><span class=\"token punctuation\">,</span> predictionCol<span class=\"token operator\">=</span><span class=\"token string\">'predlabel'</span><span class=\"token punctuation\">,</span> \n                               maxIter<span class=\"token operator\">=</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> regParam<span class=\"token operator\">=</span><span class=\"token number\">0.3</span><span class=\"token punctuation\">,</span> elasticNetParam<span class=\"token operator\">=</span><span class=\"token number\">0.8</span><span class=\"token punctuation\">,</span> standardization<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">trans_df<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">+-----+--------------------+\n|label|            features|\n+-----+--------------------+\n|  1.0|(21785,[2,62,1543...|\n|  0.0|(21785,[2,8,1057,...|\n|  0.0|(21785,[2,8,856,1...|\n|  0.0|(21785,[2,8,5371,...|\n|  0.0|(21785,[2,8,706,1...|\n|  0.0|(21785,[2,8,563,1...|\n|  0.0|(21785,[2,8,712,1...|\n|  0.0|(21785,[2,8,2325,...|\n|  0.0|(21785,[2,8,415,1...|\n|  0.0|(21785,[2,8,856,1...|\n|  0.0|(21785,[2,8,7123,...|\n|  0.0|(21785,[2,8,2337,...|\n|  0.0|(21785,[2,8,1336,...|\n|  0.0|(21785,[2,8,688,1...|\n|  0.0|(21785,[2,8,1376,...|\n|  0.0|(21785,[2,8,1073,...|\n|  0.0|(21785,[2,8,9370,...|\n|  0.0|(21785,[2,8,1335,...|\n|  0.0|(21785,[2,8,299,1...|\n|  0.0|(21785,[2,8,321,1...|\n+-----+--------------------+\nonly showing top 20 rows</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">train_data<span class=\"token punctuation\">,</span> test_data <span class=\"token operator\">=</span> trans_df<span class=\"token punctuation\">.</span>randomSplit<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">.7</span><span class=\"token punctuation\">,</span><span class=\"token number\">.3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> seed<span class=\"token operator\">=</span><span class=\"token number\">1234</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">train_data<span class=\"token punctuation\">.</span>columns</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">['label', 'features']</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Fit the data to the model</span>\nlinearModel <span class=\"token operator\">=</span> lr<span class=\"token punctuation\">.</span>fit<span class=\"token punctuation\">(</span>train_data<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">predictions <span class=\"token operator\">=</span> linearModel<span class=\"token punctuation\">.</span>transform<span class=\"token punctuation\">(</span>test_data<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">predandlabels <span class=\"token operator\">=</span> predictions<span class=\"token punctuation\">.</span>select<span class=\"token punctuation\">(</span><span class=\"token string\">\"predlabel\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"label\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">predandlabels<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">+-------------------+-----+\n|          predlabel|label|\n+-------------------+-----+\n| 0.4786779491779273|  0.0|\n|0.47812190795718557|  0.0|\n| 0.4763438691699301|  0.0|\n|0.46373595776939147|  0.0|\n| 0.4621842148277867|  0.0|\n|  0.461957918982136|  0.0|\n|0.46163463920263503|  0.0|\n| 0.4564621627306192|  0.0|\n| 0.4530677250458588|  0.0|\n| 0.4522595255971063|  0.0|\n|0.45080476658935187|  0.0|\n| 0.4472567710093285|  0.0|\n|0.39633212374343496|  0.0|\n| 0.3614890291088182|  0.0|\n| 0.4700399134696608|  0.0|\n| 0.4727877915954192|  0.0|\n|0.46379414812970166|  0.0|\n|0.45904840096662713|  0.0|\n|0.44309292744935574|  0.0|\n| 0.3900524140266282|  0.0|\n+-------------------+-----+\nonly showing top 20 rows</code></pre></div>\n<h3 id=\"평가\" style=\"position:relative;\"><a href=\"#%ED%8F%89%EA%B0%80\" aria-label=\"평가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>평가</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> pyspark<span class=\"token punctuation\">.</span>ml<span class=\"token punctuation\">.</span>evaluation <span class=\"token keyword\">import</span> RegressionEvaluator\n\n<span class=\"token comment\"># Get the RMSE</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"RMSE: {0}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>linearModel<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">.</span>rootMeanSquaredError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MAE: {0}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>linearModel<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">.</span>meanAbsoluteError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Get the R2</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"R2: {0}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>linearModel<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">.</span>r2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">RMSE: 0.5022262338134558\nMAE: 0.4878241107468986\nR2: 0.012063243903345677</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">evaluator <span class=\"token operator\">=</span> RegressionEvaluator<span class=\"token punctuation\">(</span>predictionCol<span class=\"token operator\">=</span><span class=\"token string\">\"predlabel\"</span><span class=\"token punctuation\">,</span> labelCol<span class=\"token operator\">=</span><span class=\"token string\">'label'</span><span class=\"token punctuation\">,</span> metricName<span class=\"token operator\">=</span><span class=\"token string\">'rmse'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"RMSE: {0}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>evaluator<span class=\"token punctuation\">.</span>evaluate<span class=\"token punctuation\">(</span>predandlabels<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">RMSE: 0.5017870515976061</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">evaluator <span class=\"token operator\">=</span> RegressionEvaluator<span class=\"token punctuation\">(</span>predictionCol<span class=\"token operator\">=</span><span class=\"token string\">\"predlabel\"</span><span class=\"token punctuation\">,</span> labelCol<span class=\"token operator\">=</span><span class=\"token string\">'label'</span><span class=\"token punctuation\">,</span> metricName<span class=\"token operator\">=</span><span class=\"token string\">'mae'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MAE: {0}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>evaluator<span class=\"token punctuation\">.</span>evaluate<span class=\"token punctuation\">(</span>predandlabels<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">MAE: 0.4873217827313394</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">evaluator <span class=\"token operator\">=</span> RegressionEvaluator<span class=\"token punctuation\">(</span>predictionCol<span class=\"token operator\">=</span><span class=\"token string\">\"predlabel\"</span><span class=\"token punctuation\">,</span> labelCol<span class=\"token operator\">=</span><span class=\"token string\">'label'</span><span class=\"token punctuation\">,</span> metricName<span class=\"token operator\">=</span><span class=\"token string\">'r2'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"R2: {0}\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>evaluator<span class=\"token punctuation\">.</span>evaluate<span class=\"token punctuation\">(</span>predandlabels<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">R2: 0.010070756230703637</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">spark<span class=\"token punctuation\">.</span>stop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h3>\n<p><a href=\"https://www.kaggle.com/code/fatmakursun/pyspark-ml-tutorial-for-beginners\">https://www.kaggle.com/code/fatmakursun/pyspark-ml-tutorial-for-beginners</a></p>\n<p><a href=\"https://spark.apache.org/docs/3.1.1/api/python/reference/api/pyspark.ml.feature.OneHotEncoder.html\">https://spark.apache.org/docs/3.1.1/api/python/reference/api/pyspark.ml.feature.OneHotEncoder.html</a></p>\n<p><a href=\"https://medium.com/@nutanbhogendrasharma/role-of-onehotencoder-and-pipelines-in-pyspark-ml-feature-part-2-3275767e74f0\">https://medium.com/@nutanbhogendrasharma/role-of-onehotencoder-and-pipelines-in-pyspark-ml-feature-part-2-3275767e74f0</a></p>\n<p><a href=\"https://spark.apache.org/docs/latest/ml-classification-regression.html\">https://spark.apache.org/docs/latest/ml-classification-regression.html</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EB%B3%80%EC%88%98-%EC%84%A0%ED%83%9D-%EB%B0%8F-%EB%B3%80%ED%99%98\">변수 선택 및 변환</a></li>\n<li><a href=\"#%EB%B2%94%EC%A3%BC%ED%98%95-%EB%B3%80%EC%88%98-%EC%B2%98%EB%A6%AC%ED%95%98%EA%B8%B0\">범주형 변수 처리하기</a></li>\n<li><a href=\"#%ED%8F%89%EA%B0%80\">평가</a></li>\n<li><a href=\"#reference\">Reference</a></li>\n</ul>\n</div>","frontmatter":{"date":"April 21, 2022","title":"숙박업 분석하기 (3) - MLlib","categories":"Data_Analysis","author":"HwanHee Park","emoji":"👨‍💻"},"fields":{"slug":"/PySpark/[PySpark] 숙박업 분석하기 (3) - MLlib/"}},"prev":{"id":"f7f3a54b-d6fc-53a4-ba30-a2c74ee0c498","html":"<h2 id=\"튜플\" style=\"position:relative;\"><a href=\"#%ED%8A%9C%ED%94%8C\" aria-label=\"튜플 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>튜플</h2>\n<h4 id=\"튜플이란\" style=\"position:relative;\"><a href=\"#%ED%8A%9C%ED%94%8C%EC%9D%B4%EB%9E%80\" aria-label=\"튜플이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>튜플이란?</h4>\n<p>튜플은 간단하게 말해 변경이 안되는 리스트로 보면 된다. 또한 ()를 통해 구성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">solar_system <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'태양'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'수성'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'금성'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'지구'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'화성'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'목성'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'토성'</span><span class=\"token punctuation\">)</span>\n\nsolar_system</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">('태양', '수성', '금성', '지구', '화성', '목성', '토성')</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 인덱싱</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>solar_system<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nsolar_system<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">지구\n\n\n\n\n\n('수성', '금성', '지구', '화성', '목성', '토성')</code></pre></div>\n<h4 id=\"리스트의-방식으로-튜플에서-추가-및-제거는-안된다\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%EC%8A%A4%ED%8A%B8%EC%9D%98-%EB%B0%A9%EC%8B%9D%EC%9C%BC%EB%A1%9C-%ED%8A%9C%ED%94%8C%EC%97%90%EC%84%9C-%EC%B6%94%EA%B0%80-%EB%B0%8F-%EC%A0%9C%EA%B1%B0%EB%8A%94-%EC%95%88%EB%90%9C%EB%8B%A4\" aria-label=\"리스트의 방식으로 튜플에서 추가 및 제거는 안된다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리스트의 방식으로 튜플에서 추가 및 제거는 안된다.</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 추가</span>\nsolar_system<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token string\">'천왕성'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'해왕성'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---------------------------------------------------------------------------\n\nAttributeError                            Traceback (most recent call last)\n\n&lt;ipython-input-3-d0641b66a87d> in &lt;module>\n      1 # 추가\n----> 2 solar_system.append('천왕성','해왕성')\n\n\nAttributeError: 'tuple' object has no attribute 'append'</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 제거</span>\n<span class=\"token keyword\">del</span> solar_system<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">---------------------------------------------------------------------------\n\nTypeError                                 Traceback (most recent call last)\n\n&lt;ipython-input-4-e0e72e1ba53b> in &lt;module>\n      1 # 제거\n----> 2 del solar_system[1]\n\n\nTypeError: 'tuple' object doesn't support item deletion</code></pre></div>\n<h4 id=\"튜플-추가하기\" style=\"position:relative;\"><a href=\"#%ED%8A%9C%ED%94%8C-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"튜플 추가하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>튜플 추가하기</h4>\n<p>그럼에도 튜플을 추가할 수 있는 방법은 tuple + tuple이라는 방법이 있다.</p>\n<p>단!! 요소가 하나인 튜플은 튜플로 정의되지 못한다. ex) (‘태양’)은 튜플이 아니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">solar_system <span class=\"token operator\">=</span> solar_system<span class=\"token operator\">+</span><span class=\"token punctuation\">(</span><span class=\"token string\">'천왕성'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'해왕성'</span><span class=\"token punctuation\">)</span>\n\nsolar_system</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">('태양', '수성', '금성', '지구', '화성', '목성', '토성', '천왕성', '해왕성')</code></pre></div>\n<p>튜플은 추가 및 제거가 안된다는 것 외에는 리스트와 동일한 기능을 지원한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># 반복</span>\nsolar_system<span class=\"token operator\">*</span><span class=\"token number\">2</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">('태양',\n '수성',\n '금성',\n '지구',\n '화성',\n '목성',\n '토성',\n '천왕성',\n '해왕성',\n '태양',\n '수성',\n '금성',\n '지구',\n '화성',\n '목성',\n '토성',\n '천왕성',\n '해왕성')</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token string\">'태양'</span> <span class=\"token keyword\">in</span> solar_system</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">True</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token string\">'명왕성'</span> <span class=\"token keyword\">in</span> solar_system</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">False</code></pre></div>","frontmatter":{"date":"August 12, 2022","title":"튜플","categories":"Python","author":"HwanHee Park","emoji":"💻"},"fields":{"slug":"/Python/[python] 튜플/"}},"site":{"siteMetadata":{"siteUrl":"https://han-archives.github.io","comments":{"utterances":{"repo":"Han-Archives/han-archives.github.io"}}}}},"pageContext":{"slug":"/Python/[python] 특수문자 제거하기/","nextSlug":"/PySpark/[PySpark] 숙박업 분석하기 (3) - MLlib/","prevSlug":"/Python/[python] 튜플/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}